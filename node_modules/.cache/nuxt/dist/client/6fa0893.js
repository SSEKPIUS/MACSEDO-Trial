(window.webpackJsonp=window.webpackJsonp||[]).push([[18,39,43,47,48,49,68,79],{468:function(t,e,r){"use strict";r.r(e);var n=r(6),component=Object(n.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{staticClass:" rounded-full",staticStyle:{margin:"auto",background:"#fff",display:"block"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"30px",height:"30px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[r("circle",{attrs:{cx:"75",cy:"50",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.9166666666666666s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.9166666666666666s"}})]),r("circle",{attrs:{cx:"71.65063509461098",cy:"62.5",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.8333333333333334s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.8333333333333334s"}})]),r("circle",{attrs:{cx:"62.5",cy:"71.65063509461096",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.75s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.75s"}})]),r("circle",{attrs:{cx:"50",cy:"75",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.6666666666666666s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.6666666666666666s"}})]),r("circle",{attrs:{cx:"37.50000000000001",cy:"71.65063509461098",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.5833333333333334s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.5833333333333334s"}})]),r("circle",{attrs:{cx:"28.34936490538903",cy:"62.5",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.5s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.5s"}})]),r("circle",{attrs:{cx:"25",cy:"50",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.4166666666666667s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.4166666666666667s"}})]),r("circle",{attrs:{cx:"28.34936490538903",cy:"37.50000000000001",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.3333333333333333s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.3333333333333333s"}})]),r("circle",{attrs:{cx:"37.499999999999986",cy:"28.349364905389038",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.25s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.25s"}})]),r("circle",{attrs:{cx:"49.99999999999999",cy:"25",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.16666666666666666s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.16666666666666666s"}})]),r("circle",{attrs:{cx:"62.5",cy:"28.349364905389034",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.08333333333333333s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.08333333333333333s"}})]),r("circle",{attrs:{cx:"71.65063509461096",cy:"37.499999999999986",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"0s"}}),t._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"0s"}})])])}),[],!1,null,null,null);e.default=component.exports},485:function(t,e,r){t.exports={}},486:function(t,e,r){"use strict";r.r(e);var n={props:["orderTR","loading","usersection"],methods:{getStatus:function(t){switch(t){case 5:return"pending";case 10:return"new";case 15:return"served";case 20:return"cancelling";case 25:return"cancelled"}},getClass:function(t){switch(t){case 5:return"bg-gray-500";case 10:return"bg-yellow-500";case 15:return"bg-green-500";case 20:return"bg-red-300";case 25:return"bg-red-500"}}}},o=r(6),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",{staticClass:"hover:bg-grey-lighter",class:25==parseInt(t.orderTR.status)?"line-through":""},[r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[t._v("\n    "+t._s(t.orderTR.dish)+"\n  ")]),t._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[t._v("\n    "+t._s(t.orderTR.Description)+"\n  ")]),t._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[t._v("\n    "+t._s(t.orderTR.qty)+"\n  ")]),t._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[t._v("\n    "+t._s(t.orderTR.cost)+"\n  ")]),t._v(" "),r("td",{staticClass:"py-2 text-xs  px-1 border-b border-grey-light text-left"},[t._v("\n    "+t._s(t.orderTR.SentFrom)+"\n  ")]),t._v(" "),r("td",{staticClass:"py-2  px-2 border-b border-grey-light text-left"},[t._v("\n    "+t._s(t.orderTR.reason)+"\n  ")]),t._v(" "),r("td",{staticClass:"py-2  px-2 border-b border-grey-light text-center"},[r("div",{staticClass:" flex flex-col"},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.orderTR.destRmn,expression:"orderTR.destRmn"}]},[t._v(t._s(t.orderTR.destRmn))]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.orderTR.destTbl,expression:" orderTR.destTbl"}]},[t._v(t._s(t.orderTR.destTbl))])])]),t._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-center uppercase font-extrabold text-white"},[r("span",{staticClass:" px-4 rounded-lg py-1",class:t.getClass(parseInt(t.orderTR.status))},[t._v(" "+t._s(t.getStatus(parseInt(t.orderTR.status)))+" ")])]),t._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light"},[5!=parseInt(t.orderTR.status)?r("div",{staticClass:" flex flex-col"},[10==parseInt(t.orderTR.status)?r("button",{staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-red-500  bg-red-400 uppercase",on:{click:function(e){return t.$emit("cancel",t.orderTR.orders_id)}}},[t._v("\n        cancel\n      ")]):t._e()]):t._e()])])}),[],!1,null,"53f64b6c",null);e.default=component.exports},488:function(t,e,r){"use strict";r.r(e);var n={components:{InvoiceOrderTableRow:r(486).default},props:["ordersTR","loading","usersection"],methods:{cancel:function(t){this.$emit("cancel",t)}}},o=r(6),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mx-auto"},[r("div",{staticClass:"bg-white shadow-md rounded"},[r("table",{staticClass:"text-left w-full border-collapse"},[t._m(0),t._v(" "),r("tbody",t._l(t.ordersTR,(function(e,n){return r("InvoiceOrderTableRow",{key:n,staticClass:" my-1",attrs:{"order-t-r":e,loading:t.loading,usersection:t.usersection},on:{cancel:t.cancel}})})),1)])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            Item\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            Description\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            qty\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            cost\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            From\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            reason\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-left text-black"},[t._v("\n            Dest'n\n          ")]),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-center text-black"}),t._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-center text-black"},[t._v("\n            controls\n          ")])])])}],!1,null,null,null);e.default=component.exports},493:function(t,e,r){"use strict";r.r(e);r(24),r(9),r(22);var n={components:{InvoiceOrder:r(488).default},props:["invoice","loading","usersection"],methods:{getorderStatus:function(t){switch(t){case 5:return{styeBorder:"border-yellow-200",styeBg:"bg-yellow-200",text:"Unpaid"};case 10:return{styeBorder:"border-green-900",styeBg:"bg-green-900",text:"Paid"};default:return{styeBorder:"border-gray-400",styeBg:"bg-gray-00",text:"Unknown"}}},cancel:function(t){this.$emit("cancel",t)},ConfirmInvoice:function(t){try{Object.keys(t.orders).length>0&&(t.orders.forEach((function(element){if(15!==parseInt(element.status)&&25!==parseInt(element.status))throw{message:"The Invoice has Uncleared Orders!"}})),this.$emit("ConfirmInvoice",t))}catch(t){this.$toast.error(t.message)}},Print:function(t){this.$emit("Print",t)},Close:function(t){try{Object.keys(t.orders).length>0&&(t.orders.forEach((function(element){if(15!==parseInt(element.status)&&25!==parseInt(element.status))throw{message:"The Invoice has Uncleared Orders!"}})),this.$emit("CloseInvoice",t))}catch(t){this.$toast.error(t.message)}}}},o=r(6),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" mx-auto bg-gray-50 p-2"},[r("div",[r("div",{staticClass:"bg-gray-100 mx-auto border-gray-500 shadow-lg rounded-sm text-gray-700 h-auto"},[r("div",{staticClass:"flex p-3 border-l-8",class:t.getorderStatus(parseInt(t.invoice.status)).styeBorder},[r("div",{staticClass:"space-y-1 border-r-2 pr-3"},[r("div",{staticClass:"text-sm leading-5 font-semibold"},[r("span",{staticClass:"text-xs leading-4 font-normal text-gray-500"},[t._v(" Invoice #")]),t._v(" "),r("span",{staticClass:" font-extrabold"},[t._v(" "+t._s(t.invoice.receipts_id)+" ")])]),t._v(" "),r("div",{staticClass:"text-sm leading-5 font-semibold"},[r("span",{staticClass:"text-xs leading-4 font-normal text-gray-500 pr"},[t._v(" Total:")]),t._v(" "),r("span",{staticClass:" font-extrabold"},[t._v(" Shs: "+t._s(t._f("number_format")(t.invoice.TTotal))+"/= ")])]),t._v(" "),r("div",{staticClass:"text-sm leading-5 font-semibold text-green-500"},[t._v("\n            "+t._s(t.invoice.section)+"\n          ")]),t._v(" "),r("div",{staticClass:"text-xm leading-5 font-semiboldtext-red-700"},[t._v("\n            "+t._s(t.invoice.name)+"\n          ")]),t._v(" "),r("div",{staticClass:"text-xs leading-5 font-semibold text-gray-500"},[t._v("\n            "+t._s(t._f("humanDayDate")(t.invoice.created_at))+"\n          ")])]),t._v(" "),r("div",{staticClass:" flex flex-col justify-center align-middle ml-2"},[r("button",{directives:[{name:"show",rawName:"v-show",value:5==t.invoice.status,expression:"invoice.status == 5"}],staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-green-700  bg-green-400 uppercase",on:{click:function(e){return t.ConfirmInvoice(t.invoice)}}},[t._v("\n            Confirm Invoice\n          ")]),t._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:10==t.invoice.status,expression:"invoice.status == 10"}],staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-blue-700  bg-blue-400 uppercase",on:{click:function(e){return t.Print(t.invoice)}}},[t._v("\n            Print\n          ")]),t._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:10==t.invoice.status,expression:"invoice.status == 10"}],staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-red-700  bg-red-400 uppercase",on:{click:function(e){return t.Close(t.invoice)}}},[t._v("\n            Close\n          ")])]),t._v(" "),r("div",{staticClass:"flex-1"},[r("div",{staticClass:"ml-3 space-y-1 border-r-2 pr-3"},[r("div",{staticClass:"text-sm leading-4 font-normal"},[r("InvoiceOrder",{attrs:{"orders-t-r":t.invoice.orders,loading:t.loading,usersection:t.usersection},on:{cancel:t.cancel}})],1)])])])])])])}),[],!1,null,null,null);e.default=component.exports},498:function(t,e,r){"use strict";r(485)},500:function(t,e,r){"use strict";r.r(e);var n={name:"InvoiceCommon",components:{Invoice:r(493).default},props:["invoices","user"],data:function(){return{loadinghandleInvoice:!1,invoicePaginated:[],currentUrl:null}},methods:{cancel:function(t){this.$emit("cancel",t)},ConfirmInvoice:function(t){this.$emit("ConfirmInvoice",t)},CloseInvoice:function(t){this.$emit("CloseInvoice",t)},Print:function(t){this.$emit("Print",t)}}},o=r(6),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:" w-full p-2 h-full"},[r("div",{staticClass:" w-full p-2  shadow-2xl rounded mt-5"},t._l(t.invoices,(function(e,n){return r("Invoice",{key:n,attrs:{invoice:e,loading:t.loadinghandleInvoice,usersection:t.user.section},on:{cancel:t.cancel,ConfirmInvoice:t.ConfirmInvoice,CloseInvoice:t.CloseInvoice,Print:t.Print}})})),1)])])}),[],!1,null,null,null);e.default=component.exports},501:function(t,e,r){"use strict";r.r(e);var n=r(497),o={components:{VueBarcode:r.n(n).a},props:["invoice"],data:function(){return{success:!0,fail:!1}},methods:{getRandomIntInclusive:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)},print:function(){window.document.body.innerHTML=document.getElementById("printable").innerHTML,window.print(),this.$router.go({path:this.$router.currentRoute.path,force:!0})}}},c=(r(498),r(6)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-overlay"},[r("div",{staticClass:"modal w-80"},[r("div",{staticClass:" flex flex-row",attrs:{id:"printable"}},[r("div",{staticClass:" w-full flex flex-col"},[r("h1",{staticClass:" text-center uppercase font-bold text-xl"},[t._v("\n          meals and drinks\n        ")]),t._v(" "),r("div",{staticClass:" w-full grid grid-cols-2 gap-0 px-2 mt-5"},[r("div",{staticClass:" text-left flex flex-col"},[r("span",{staticClass:" text-sm"},[t._v("Order No: "+t._s(t.invoice.receipts_id))]),t._v(" "),r("span",{staticClass:" text-sm"},[t._v("C/o: "+t._s(t.invoice.name))])]),t._v(" "),r("div",{staticClass:" text-right"},[r("span",{staticClass:" text-sm whitespace-nowrap"},[t._v("Date: "),r("span",{staticClass:" text-xs"},[t._v(t._s(t._f("humanDayDate")(t.invoice.updated_at)))])]),t._v(" "),r("span",{staticClass:" text-sm"})])]),t._v(" "),r("div",{staticClass:" w-full mt-5 px-2"},[r("table",{staticClass:" w-full"},[t._m(0),t._v(" "),r("tbody",[t._l(t.invoice.orders,(function(e,n){return r("tr",{key:n,class:25==parseInt(e.status)?"line-through":""},[r("td",{staticClass:" text-left text-xs"},[t._v("\n                  "+t._s(e.qty)+"\n                ")]),t._v(" "),r("td",{staticClass:" text-left text-xs"},[t._v("\n                  ("+t._s(e.Category)+") "+t._s(e.dish)+"\n                ")]),t._v(" "),r("td",{staticClass:" text-left text-xs"},[r("div",{staticClass:" flex flex-col"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.destRmn,expression:"order.destRmn"}]},[t._v(t._s(e.destRmn))]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.destTbl,expression:" order.destTbl"}]},[t._v(t._s(e.destTbl))])])]),t._v(" "),r("td",{staticClass:" text-left text-xs"},[t._v("\n                  "+t._s(e.cost)+"\n                ")])])})),t._v(" "),r("tr",{staticClass:" border-t-2 border-dotted"},[r("td",{staticClass:" text-left text-sm font-bold"},[t._v("\n                  Total\n                ")]),t._v(" "),r("td",{staticClass:" text-right text-sm font-bold whitespace-nowrap",attrs:{colspan:"3"}},[t._v("\n                  Shs: "+t._s(t._f("number_format")(t.invoice.TTotal))+"\n                ")])])],2)])]),t._v(" "),r("div",{staticClass:" w-full mt-5 px-2 flex align-middle justify-center"},[r("VueBarcode",{staticClass:" w-28",attrs:{value:t.getRandomIntInclusive(1e11,999999999999),format:"CODE128",height:25,width:1,"font-size":10,"font-options":"bold italic"}})],1),t._v(" "),t._m(1)])]),t._v(" "),r("button",{staticClass:" hover:bg-green-500 bg-gray-300 uppercase",on:{click:function(e){return t.print()}}},[t._v("\n      Print\n    ")])]),t._v(" "),r("div",{staticClass:"close",on:{click:function(e){return t.$emit("update:showmodal",!1)}}},[r("svg",{staticClass:"h-6 w-6 close-img text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:" border-t-2 border-b-2 border-dotted"},[r("tr",[r("th",{staticClass:" text-left text-sm font-bold"},[t._v("\n                  Qty\n                ")]),t._v(" "),r("th",{staticClass:" text-left text-sm font-bold"},[t._v("\n                  Item\n                ")]),t._v(" "),r("th",{staticClass:" text-left text-sm font-bold"},[t._v("\n                  Dest'n\n                ")]),t._v(" "),r("th",{staticClass:" text-left text-sm font-bold"},[t._v("\n                  Price\n                ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" w-full"},[r("span",{staticClass:" text-center capitalize"},[t._v("thank you!")])])}],!1,null,"dad5c15c",null);e.default=component.exports},728:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(43),r(9),r(22),r(26),r(24),r(365),r(529)),c=r(500),l=r(501),d={components:{Menu:o.default,Invoices:c.default,InvoicePrint:l.default},props:["serviceWaiterWaitressArr","user","token"],data:function(){return{AllowCloseInv:!1,receiptSuper:{uID:null,name:null,section:null,status:5,TTotal:0,created_at:Date.now(),orders:[]},showModal:!1,invoiceDataPrint:[]}},computed:{watchReceiptSuperOrders:function(){return this.receiptSuper.orders},getinvoiceDataPrint:function(){return this.invoiceDataPrint}},watch:{watchReceiptSuperOrders:{handler:function(t){var e=0;t.forEach((function(t){e+=parseInt(t.cost,10)})),this.receiptSuper.TTotal=e}}},mounted:function(){this.resetInvoicefn(),this.receiptSuper.uID=this.user.id,this.receiptSuper.name=this.user.name,this.receiptSuper.section=this.user.section},methods:{addToInvoice:function(t){t.Names&&t.SentFrom&&t.uID?this.receiptSuper.orders.push(t):this.$toast.error("No user logged In!")},Print:function(t){this.invoiceDataPrint=t,this.showModal=!0},clear:function(){this.resetInvoicefn()},resetInvoicefn:function(){this.receiptSuper.TTotal=0,this.receiptSuper.created_at=Date.now(),this.receiptSuper.orders=[]},ConfirmInvoice:function(t){try{if(!(Object.keys(t.orders).length>0))throw{message:"The Invoice has no Orders!"};this.updateInvoice(t.receipts_id,"CONFIRM")}catch(t){this.$toast.error(t.message)}},CloseInvoice:function(t){try{if(!(Object.keys(t.orders).length>0))throw{message:"The Invoice has no Orders!"};if(!this.AllowCloseInv)throw{message:"Contact Cashier to Close this Invoice!"};this.updateInvoice(t.receipts_id,"CLOSE")}catch(t){this.$toast.error(t.message)}},cancelServiceBar:function(t){this.changeorderState(t,20)},saveInvoicefn:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"X-CSRF-TOKEN":t.token}},e.prev=1,e.next=4,t.$axios.$post("addReceipts",t.receiptSuper,r).then((function(e){e.result&&(t.$toast.success("Receipt Published"),t.resetInvoicefn(),t.$emit("refresh"))})).catch((function(e){console.log(e.response),e.response.data.message?t.$toast.error(t.$ObjTemplate.trim(e.response.data.message)):t.$toast.error(t.$ObjTemplate.trim(e.response.request.statusText))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),t.$toast.error(e.t0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))()},changeorderState:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:0,o=t.length>1&&void 0!==t[1]?t[1]:null,c={headers:{"X-CSRF-TOKEN":e.token}},l={id:n,state:o},r.prev=4,r.next=7,e.$axios.$post("requestCancelOrder",l,c).then((function(t){var r=t.result,n=t.message;r&&n&&(e.$toast.success(n),e.$emit("refresh"))})).catch((function(t){console.log(t.response),t.response.data.message?e.$toast.error(e.$ObjTemplate.trim(t.response.data.message)):e.$toast.error(e.$ObjTemplate.trim(t.response.request.statusText))}));case 7:r.next=13;break;case 9:r.prev=9,r.t0=r.catch(4),e.$toast.error(r.t0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[4,9]])})))()},updateInvoice:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:0,o=t.length>1&&void 0!==t[1]?t[1]:null,c={headers:{"X-CSRF-TOKEN":e.token}},l={id:n,mode:o},r.prev=4,r.next=7,e.$axios.$post("updateReceipts",l,c).then((function(t){var r=t.result,n=t.message;r&&n&&(e.$toast.success(n),e.$emit("refresh"))})).catch((function(t){console.log(t.response),t.response.data.message?e.$toast.error(e.$ObjTemplate.trim(t.response.data.message)):e.$toast.error(e.$ObjTemplate.trim(t.response.request.statusText))}));case 7:r.next=13;break;case 9:r.prev=9,r.t0=r.catch(4),e.$toast.error(r.t0),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[4,9]])})))()}}},f=d,v=r(6),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" px-auto h-auto"},[r("Menu",{attrs:{receipt:t.receiptSuper,user:t.user},on:{addToInvoice:t.addToInvoice,saveInvoicefn:t.saveInvoicefn,clear:t.clear}}),t._v(" "),r("Invoices",{attrs:{user:t.user,invoices:t.serviceWaiterWaitressArr},on:{cancel:t.cancelServiceBar,ConfirmInvoice:t.ConfirmInvoice,CloseInvoice:t.CloseInvoice,Print:t.Print}}),t._v(" "),r("InvoicePrint",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{showmodal:t.showModal,invoice:t.getinvoiceDataPrint},on:{"update:showmodal":function(e){t.showModal=e}}})],1)}),[],!1,null,"34930ce6",null);e.default=component.exports}}]);