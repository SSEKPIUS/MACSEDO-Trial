(window.webpackJsonp=window.webpackJsonp||[]).push([[3,35,51,52],{487:function(e,t,r){"use strict";r.r(t);var n={props:["orderTR","loading"],methods:{getStatus:function(e){switch(e){case 5:return"pending";case 10:return"new";case 15:return"served";case 20:return"cancelling";case 25:return"cancelled"}},getClass:function(e){switch(e){case 5:return"bg-gray-500";case 10:return"bg-yellow-500";case 15:return"bg-green-500";case 20:return"bg-red-300";case 25:return"bg-red-500"}}}},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"hover:bg-grey-lighter"},[r("td",{staticClass:"py-2  px-6 border-b border-grey-light text-center"},[e._v("\n    "+e._s(e.orderTR.dish)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-6 border-b border-grey-light text-center"},[e._v("\n    "+e._s(e.orderTR.Description)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-6 border-b border-grey-light text-center"},[e._v("\n    "+e._s(e.orderTR.qty)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-6 border-b border-grey-light text-center"},[e._v("\n    "+e._s(e.orderTR.cost)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-6 border-b border-grey-light text-center uppercase font-extrabold text-white flex justify-end items-center"},[r("span",{staticClass:" px-4 rounded-lg py-1",class:e.getClass(parseInt(e.orderTR.status))},[e._v(" "+e._s(e.getStatus(parseInt(e.orderTR.status)))+" ")])])])}),[],!1,null,null,null);t.default=component.exports},492:function(e,t,r){"use strict";r.r(t);var n={components:{InvoiceOrderTableRow:r(487).default},props:["ordersTR","loading"]},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto"},[r("div",{staticClass:"bg-white shadow-md rounded"},[r("table",{staticClass:"text-left w-full border-collapse"},[e._m(0),e._v(" "),r("tbody",e._l(e.ordersTR,(function(t,n){return r("InvoiceOrderTableRow",{key:n,attrs:{"order-t-r":t,loading:e.loading}})})),1)])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-center text-black"},[e._v("\n            Item\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-center text-black"},[e._v("\n            Description\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-center text-black"},[e._v("\n            qty\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-center text-black"},[e._v("\n            cost\n          ")])])])}],!1,null,"266bf91c",null);t.default=component.exports},529:function(e,t,r){"use strict";r.r(t);r(34),r(35);var n=r(12),o=(r(26),r(19),r(48),r(9),r(22),r(24),r(23),r(154)),l=r.n(o),d=r(14),c=r(624),h=r(468);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={components:{InvoiceTile:c.default,Spinner:h.default},props:["user","receipt","loadingAddInv","loadingSaveInv"],data:function(){return{showMenu:!1,menu:[],minorMenuBar:[],refCost:0,majorIndex:-1,minorIndex:-1,OrdersSection:"",refQty:1,orders:{section:null,Category:"",dish:"",Description:"",cost:0,qty:1,SentFrom:null,status:10,uID:null,Names:null,destTbl:"",destRmn:""}}},computed:v(v({},Object(d.c)(["getAllMenu"])),{},{getmenuFilterUnique:function(){return l.a.uniqBy(this.menu,"category")},checkOrdersSection:function(){return this.OrdersSection},getSentFrom:function(){return this.user?this.user.section:""},getUserID:function(){return this.user?this.user.id:""},getUserName:function(){return this.user?this.user.name:""}}),watch:{refQty:{handler:function(e){0==this.orders.cost?this.orders.qty=1:(this.orders.cost=this.refCost*e,this.orders.qty=e)}},showMenu:{handler:function(e){0==e&&this.resetOrders()}},getSentFrom:{handler:function(e){this.orders.SentFrom=e}},getUserID:{handler:function(e){this.orders.uID=e}},getUserName:{handler:function(e){this.orders.Names=e}}},mounted:function(){this.resetOrders()},methods:{clear:function(){this.$emit("clear"),this.resetOrders()},getMenuKitchen:function(){this.orders.section=this.OrdersSection="KITCHEN",this.menu=this.getAllMenu.Kitchen,this.resetMinors()},getMenuBar:function(){this.orders.section=this.OrdersSection="SERVICE-BAR",this.menu=this.getAllMenu.Bar,this.resetMinors()},setMinors:function(e,menu){this.orders.Category?(this.refQty=1,this.orders.dish=menu.stocks,this.orders.Description=menu.description,this.orders.cost=this.refCost=menu.price,this.minorIndex=e):this.$toast.error("Select Major Category First")},resetMinors:function(){this.minorMenuBar=[],this.orders.dish="",this.orders.Description="",this.orders.cost=0,this.minorIndex=-1,this.refQty=1},resetOrders:function(){this.recoveryOrders(),this.resetMinors(),this.menu=[],this.majorIndex=-1,this.minorIndex=-1,this.refCost=0,this.refQty=1,this.OrdersSection=""},recoveryOrders:function(){var e=this;Object.keys(this.orders).forEach((function(t){return delete e.orders[t]})),this.orders.section=null,this.orders.Category="",this.orders.dish="",this.orders.Description="",this.orders.cost=0,this.orders.qty=1,this.orders.SentFrom=this.user.section,this.orders.status=10,this.orders.uID=this.user.id,this.orders.Names=this.user.name,this.orders.destTbl="",this.orders.destRmn=""},fnselectionMain:function(e,t){this.orders.section?(this.majorIndex=t,this.resetMinors(),this.orders.Category=e,this.minorMenuBar=l.a.filter(this.menu,(function(t){return t.category==e}))):this.$toast.error("Please Select Destination")},addToInvoicefn:function(){if(this.minorIndex>=0){var e=Object.assign({},this.orders);this.resetOrders(),this.$emit("addToInvoice",e)}else this.$toast.error("Select Menu")},saveInvoicefn:function(){this.$emit("saveInvoicefn")}}},x=r(6),component=Object(x.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" mb-5"},[r("div",{staticClass:" w-full p-5 border  shadow-2xl mt-2 flex flex-row cursor-pointer",on:{click:function(t){e.showMenu=!e.showMenu}}},[r("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),e._v(" "),r("span",{staticClass:" px-2 uppercase"},[e._v("menu")])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"grid grid-cols-6 md:grid-row-6 gap-2 p-5 mt-2 mb-5 h-80"},[r("div",{staticClass:" col-span-1 shadow-xl rounded-md overflow-scroll h-80"},[r("div",{staticClass:" w-full h-full flex flex-col justify-center align-middle"},[r("div",{staticClass:"mx-5 my-5"},[r("button",{staticClass:" hover:bg-blue-500 text-white font-bold py-2 px-4 border-b-4 border-blue-700 shadow-xl rounded w-full uppercase",class:"KITCHEN"==e.checkOrdersSection?"bg-blue-500":"bg-blue-300",on:{click:function(t){e.getMenuKitchen(),e.$emit("increaseTimerSet")}}},[e._v("\n            kitchen\n          ")])]),e._v(" "),r("div",{staticClass:"mx-5 my-5"},[r("button",{staticClass:" hover:bg-blue-500 text-white font-bold py-2 px-4 border-b-4 border-blue-700  shadow-xl rounded w-full uppercase",class:"SERVICE-BAR"==e.checkOrdersSection?"bg-blue-500":"bg-blue-300",on:{click:function(t){e.getMenuBar(),e.$emit("increaseTimerSet")}}},[e._v("\n            bar\n          ")])])])]),e._v(" "),r("div",{staticClass:" col-span-2 shadow-xl rounded-md overflow-scroll h-80"},[r("div",{staticClass:"container flex mx-auto items-center justify-center"},[r("ul",{staticClass:"flex flex-col bg-gray-100 p-4  my-2 mx-2 rounded-md w-full"},e._l(e.getmenuFilterUnique,(function(t,n){return r("li",{key:n,staticClass:"border-gray-400 flex flex-row mb-2",on:{click:function(r){return e.fnselectionMain(t.category,n)}}},[r("div",{staticClass:"select-none cursor-pointer rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg",class:e.majorIndex==n?"bg-gray-400":"bg-gray-200"},[r("div",{staticClass:"flex flex-col rounded-md w-4 h-4 justify-center items-center mr-4"},[e._v("\n                ðŸ“–\n              ")]),e._v(" "),r("div",{staticClass:"flex-1 pl-1 mr-16"},[r("div",{staticClass:"font-medium uppercase"},[e._v("\n                  "+e._s(t.category)+"\n                ")])])])])})),0)])]),e._v(" "),r("div",{staticClass:" col-span-2 shadow-xl rounded-md overflow-scroll h-80"},[r("div",{staticClass:"container flex mx-auto items-center justify-center "},[r("ul",{staticClass:"flex flex-col bg-gray-100 p-4 my-2 mx-2 rounded-md w-full"},e._l(e.minorMenuBar,(function(t,n){return r("li",{key:n,staticClass:"border-gray-400 flex flex-row mb-2",on:{click:function(r){return e.setMinors(n,t)}}},[r("div",{staticClass:"select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg",class:e.minorIndex==n?"bg-gray-400":"bg-gray-200"},[r("div",{staticClass:"flex flex-col rounded-md w-4 h-4 justify-center items-center mr-4"},[e._v("\n                ðŸ“–\n              ")]),e._v(" "),r("div",{staticClass:"flex-1 pl-1 mr-16"},[r("div",{staticClass:"font-medium"},[e._v("\n                  "+e._s(t.stocks)+"\n                ")]),e._v(" "),r("div",{staticClass:"text-gray-600 text-sm"},[e._v("\n                  "+e._s(t.description)+"\n                ")])]),e._v(" "),r("div",{staticClass:"text-gray-600 text-xs"},[e._v("\n                "+e._s(t.price)+" UGX\n              ")])])])})),0)])]),e._v(" "),r("div",{staticClass:" col-span-1 h-full rounded-md"},[r("div",{staticClass:"border-gray-400 flex flex-row mb-2"},[r("div",{staticClass:"bg-gray-200 select-none rounded-md flex flex-col flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg"},[r("div",{staticClass:"text-gray-600 text-lg font-black text-left w-full"},[e._v("\n            "+e._s(e._f("number_format")(e.orders.cost))+" UGX\n          ")])])]),e._v(" "),r("div",[r("section",[r("div",{staticClass:" border flex flex-wrap w-full mb-4 relative h-15 bg-white items-center rounded pr-10"},[r("div",{staticClass:"flex -mr-px justify-center w-15"},[r("span",{staticClass:"flex items-center leading-normal bg-white px-3 border-0 rounded rounded-r-none text-2xl text-gray-600"},[r("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.871 4A17.926 17.926 0 003 12c0 2.874.673 5.59 1.871 8m14.13 0a17.926 17.926 0 001.87-8c0-2.874-.673-5.59-1.87-8M9 9h1.246a1 1 0 01.961.725l1.586 5.55a1 1 0 00.961.725H15m1-7h-.08a2 2 0 00-1.519.698L9.6 15.302A2 2 0 018.08 16H8"}})]),e._v(" "),r("span",{staticClass:" text-xs text-gray-400"},[e._v("Qty")])])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.refQty,expression:"refQty"}],staticClass:"flex-shrink flex-grow flex-auto leading-normal w-px border-0 h-8 border-grey-light rounded rounded-l-none px-3 self-center relative  font-roboto text-sm outline-none",attrs:{min:"1",type:"number",placeholder:"Quantity"},domProps:{value:e.refQty},on:{input:function(t){t.target.composing||(e.refQty=t.target.value)}}})]),e._v(" "),r("div",{staticClass:" border flex flex-wrap w-full mb-4 relative h-15 bg-white items-center rounded pr-10"},[r("div",{staticClass:"flex -mr-px justify-center w-15"},[r("span",{staticClass:"flex items-center leading-normal bg-white px-3 border-0 rounded rounded-r-none text-2xl text-gray-600"},[r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm7 1h4a1 1 0 001-1v-1h-5v2zm0-4h5V8h-5v2zM9 8H4v2h5V8z","clip-rule":"evenodd"}})])])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.orders.destTbl,expression:"orders.destTbl"}],staticClass:"flex-shrink flex-grow flex-auto leading-normal w-px border-0 h-8 border-grey-light rounded rounded-l-none px-3 self-center relative  font-roboto text-sm outline-none",attrs:{type:"text",placeholder:"Table Number"},domProps:{value:e.orders.destTbl},on:{input:function(t){t.target.composing||e.$set(e.orders,"destTbl",t.target.value)}}})]),e._v(" "),r("div",{staticClass:" border flex flex-wrap w-full mb-4 relative h-15 bg-white items-center rounded pr-10"},[r("div",{staticClass:"flex -mr-px justify-center w-15"},[r("span",{staticClass:"flex items-center leading-normal bg-white px-3 border-0 rounded rounded-r-none text-2xl text-gray-600"},[r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}})])])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.orders.destRmn,expression:"orders.destRmn"}],staticClass:"flex-shrink flex-grow flex-auto leading-normal w-px border-0 h-8 border-grey-light rounded rounded-l-none px-3 self-center relative  font-roboto text-sm outline-none",attrs:{type:"text",placeholder:"Room Number"},domProps:{value:e.orders.destRmn},on:{input:function(t){t.target.composing||e.$set(e.orders,"destRmn",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"w-full justify-self-stretch"},[r("div",{staticClass:"my-5 align-bottom"},[e.loadingAddInv?r("Spinner"):r("button",{staticClass:" hover:bg-green-500 bg-green-300 text-white font-bold py-2 px-4 border-b-4 border-green-700 rounded w-full uppercase",on:{click:e.addToInvoicefn}},[e._v("\n            ADD\n          ")])],1)])])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:" px-5 mt-10"},[r("InvoiceTile",{attrs:{usersection:e.user?e.user.section:"",receipt:e.receipt,"loading-save-inv":e.loadingSaveInv},on:{saveInvoicefn:e.saveInvoicefn,clear:e.clear}})],1)])}),[],!1,null,null,null);t.default=component.exports},538:function(e,t,r){"use strict";r.r(t);var n={components:{InvoiceOrder:r(492).default},props:["receipt","loading","usersection"],methods:{getorderStatus:function(e){switch(e){case 5:return{styeBorder:"border-yellow-200",styeBg:"bg-yellow-200",text:"Unpaid"};case 10:return{styeBorder:"border-green-900",styeBg:"bg-green-900",text:"Paid"};default:return{styeBorder:"border-gray-400",styeBg:"bg-gray-00",text:"Unknown"}}}}},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mx-auto bg-gray-50 p-2 antialiased"},[r("div",[r("div",{staticClass:"bg-gray-100 mx-auto border-gray-500 border rounded-sm text-gray-700 h-auto"},[r("div",{staticClass:"flex p-3 border-l-8",class:e.getorderStatus(parseInt(e.receipt.status)).styeBorder},[r("div",{staticClass:"space-y-1 border-r-2 pr-3"},[r("div",{staticClass:"text-sm leading-5 font-semibold"},[r("span",{staticClass:"text-xs leading-4 font-normal text-gray-500"},[e._v(" Invoice #")]),e._v(" "),r("span",{staticClass:" font-extrabold"},[e._v(" "+e._s(e.receipt.receipts_id)+" ")])]),e._v(" "),r("div",{staticClass:"text-sm leading-5 font-semibold"},[r("span",{staticClass:"text-xs leading-4 font-normal text-gray-500 pr"},[e._v(" Total:")]),e._v(" "),r("span",{staticClass:" font-extrabold"},[e._v(" UGX: "+e._s(e.receipt.TTotal)+" ")])]),e._v(" "),r("div",{staticClass:"text-sm leading-5 font-semibold text-gray-500"},[e._v("\n            "+e._s(e._f("humanDayDate")(e.receipt.created_at))+"\n          ")])]),e._v(" "),r("div",{staticClass:"flex-1"},[r("div",{staticClass:"ml-3 space-y-1 border-r-2 pr-3"},[r("div",{staticClass:"text-sm leading-4 font-normal"},[r("InvoiceOrder",{attrs:{"orders-t-r":e.receipt.orders,loading:e.loading,usersection:e.usersection}})],1)])])])])])])}),[],!1,null,null,null);t.default=component.exports},624:function(e,t,r){"use strict";r.r(t);var n=r(538),o=r(468),l={components:{Invoice:n.default,Spinner:o.default},props:["usersection","receipt","loadingSaveInv"]},d=r(6),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" flex flex-row"},[r("div",{staticClass:" w-10/12"},[r("div",{staticClass:" w-full p-5 border  shadow-2xl rounded"},[r("Invoice",{attrs:{receipt:e.receipt,loading:!1,usersection:e.usersection}})],1)]),e._v(" "),r("div",{staticClass:"w-1/6 flex align-middle justify-center"},[r("div",{staticClass:" my-auto"},[e.loadingSaveInv?r("Spinner"):r("button",{staticClass:" hover:bg-green-500 bg-green-300 text-white font-bold py-2 px-4 border-b-4 border-green-700 rounded w-full uppercase",on:{click:function(t){return e.$emit("saveInvoicefn")}}},[e._v("\n        SAVE\n      ")]),e._v(" "),r("button",{staticClass:" hover:bg-red-500 bg-red-300 text-white font-bold py-2 mt-2 px-4 border-b-4 border-red-700 rounded w-full uppercase",on:{click:function(t){return e.$emit("clear")}}},[e._v("\n        CLEAR\n      ")])],1)])])}),[],!1,null,null,null);t.default=component.exports}}]);