{"version":3,"file":"components/pagination.js","sources":["webpack:///./components/pagination/BaseButton.vue?1ebe","webpack:///./components/pagination/BaseButton.vue","webpack:///./components/pagination/BaseButton.vue?cb72","webpack:///./components/pagination/BaseButton.vue?8c2c","webpack:///./components/pagination/Pagination.vue?2473","webpack:///./components/pagination/Pagination.vue","webpack:///./components/pagination/Pagination.vue?e857","webpack:///./components/pagination/Pagination.vue?38a6"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabled),expression:\"!disabled\"}],staticClass:\"mx-2 cursor-pointer\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/@nuxt/webpack/node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/@nuxt/webpack/node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseButton.vue?vue&type=template&id=e29a4c2e&\"\nimport script from \"./BaseButton.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@nuxt/webpack/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"0680bf70\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex justify-between items-center w-full py-1\"},[_vm._ssrNode(\"<div class=\\\"text-sm uppercase\\\">\"+_vm._ssrEscape(\"\\n    \"+_vm._s(_vm.pagination.to)+\"/\"+_vm._s(_vm.pagination.total)+\" \"+_vm._s(_vm.resource)+\"\\n  \")+\"</div> \"),_vm._ssrNode(\"<ul class=\\\"text-gray-700 flex items-center\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.pagination.last_page > 1) ? '' : 'none' }))+\">\",\"</ul>\",[_c('BaseButton',{attrs:{\"disabled\":_vm.isPreviousButtonDisabled},nativeOn:{\"click\":function($event){return _vm.previousPage.apply(null, arguments)}}},[_vm._v(\"\\n      ←\\n    \")]),_vm._ssrNode(\" \"+(_vm._ssrList((_vm.paginationTriggers),function(paginationTrigger,key){return (\"<li\"+(_vm._ssrClass(\"p-2 cursor-pointer hover:text-blue-600\",{'font-bold text-orange-700': paginationTrigger == _vm.currentPage}))+\">\"+_vm._ssrEscape(\"\\n      \"+_vm._s(paginationTrigger)+\"\\n    \")+\"</li>\")}))+\" \"),_c('BaseButton',{attrs:{\"disabled\":_vm.isNextButtonDisabled},nativeOn:{\"click\":function($event){return _vm.nextPage.apply(null, arguments)}}},[_vm._v(\"\\n      →\\n    \")])],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable eqeqeq */\nimport BaseButton from './BaseButton.vue'\n\nexport default {\n  components: {\n    BaseButton\n  },\n  props: {\n    perPage: {\n      type: Number,\n      default: 6\n    },\n    resource: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    itemlist: {\n      type: Array,\n      required: true\n    },\n    // eslint-disable-next-line vue/prop-name-casing\n    expectcurrentpage: {\n      type: Number,\n      required: false,\n      default: 1\n    }\n  },\n  data () {\n    return {\n      currentPage: 1\n    }\n  },\n  computed: {\n    pagination () {\n      return {\n        to: this.setPaginateTo,\n        total: this.itemlist.length,\n        last_page: this.setLastPage\n      }\n    },\n    setPaginateTo () {\n      const lastItemIndex = this.currentPage * this.perPage\n      return lastItemIndex > this.itemlist.length ? this.itemlist.length : lastItemIndex\n    },\n    setLastPage () {\n      return this.itemlist.length > 0 ? Math.ceil(this.itemlist.length / this.perPage) : 1\n    },\n    pageCount () {\n      return this.pagination.last_page\n    },\n\n    isPreviousButtonDisabled () {\n      return this.currentPage == 1\n    },\n\n    isNextButtonDisabled () {\n      return this.currentPage == this.pageCount\n    },\n\n    visiblePagesCount () {\n      if (this.pageCount < 5) {\n        return this.pageCount\n      }\n      return 5\n    },\n\n    paginationTriggers () {\n      const currentPage = this.currentPage\n      const pageCount = this.pageCount\n      const visiblePagesCount = this.visiblePagesCount\n      const visiblePagesThreshold = (visiblePagesCount - 1) / 2\n      const paginationTriggersArray = Array(this.visiblePagesCount - 1).fill(0)\n\n      if (currentPage <= visiblePagesThreshold + 1) {\n        paginationTriggersArray[0] = 1\n        const paginationTriggers = paginationTriggersArray.map(\n          (paginationTrigger, index) => paginationTriggersArray[0] + index\n        )\n\n        paginationTriggers.push(pageCount)\n\n        return paginationTriggers\n      }\n\n      if (currentPage >= pageCount - visiblePagesThreshold + 1) {\n        const paginationTriggers = paginationTriggersArray.map(\n          (paginationTrigger, index) => pageCount - index\n        )\n\n        paginationTriggers.reverse().unshift(1)\n\n        return paginationTriggers\n      }\n\n      paginationTriggersArray[0] = currentPage - visiblePagesThreshold + 1\n      const pagintationTriggers = paginationTriggersArray.map(\n        (paginationTrigger, index) => paginationTriggersArray[0] + index\n      )\n\n      pagintationTriggers.unshift(1)\n      pagintationTriggers[pagintationTriggers.length - 1] = pageCount\n\n      return pagintationTriggers\n    }\n  },\n\n  watch: {\n    itemlist () {\n      this.currentPage = this.expectcurrentpage > this.pageCount ? this.pageCount : this.expectcurrentpage\n      this.filterDisplayData(this.currentPage)\n    }\n  },\n\n  created () {\n    this.filterDisplayData(this.currentPage)\n  },\n\n  methods: {\n    filterDisplayData (currentPage) {\n      const startIndex = (currentPage - 1) * this.perPage\n      const endIndex = currentPage * this.perPage\n      // eslint-disable-next-line array-callback-return\n      const displayData = this.itemlist.filter((item, index) => {\n        if (index >= startIndex && index < endIndex) { return item }\n      })\n      this.$emit('display-data', displayData)\n    },\n\n    nextPage () {\n      this.currentPage += 1\n      this.filterDisplayData(this.currentPage)\n    },\n\n    onLoadPage (selectedPage = 1) {\n      this.currentPage = selectedPage\n      this.filterDisplayData(this.currentPage)\n      this.$emit('selectedPage', selectedPage)\n    },\n\n    previousPage () {\n      this.currentPage -= 1\n      this.filterDisplayData(this.currentPage)\n    }\n\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/@nuxt/webpack/node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/@nuxt/webpack/node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=6c8717be&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@nuxt/webpack/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"79430a27\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AADA;AADA;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAfA;AACA;AAoBA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AAxEA;AA0EA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AAnHA;;AC7BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}