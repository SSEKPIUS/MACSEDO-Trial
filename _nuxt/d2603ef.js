(window.webpackJsonp=window.webpackJsonp||[]).push([[65,29,30],{496:function(t,e,n){t.exports={}},508:function(t,e,n){"use strict";n(496)},509:function(t,e,n){"use strict";n.r(e);var o=n(531),r={name:"BaseDropDownMenu",components:{Popper:n.n(o).a},props:{trigger:{type:String,require:!1,default:"hover"}},data:function(){return{options:{placement:"bottom",modifiers:{offset:{offset:"5, 0"}}}}}},l=(n(508),n(6)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("popper",{attrs:{trigger:t.trigger,options:t.options}},[n("div",{staticClass:"popper"},[t._t("default")],2),t._v(" "),n("button",{attrs:{slot:"reference"},slot:"reference"},[t._t("menu-button",(function(){return[n("div",{staticClass:"p-1"},[n("span",{staticClass:"fe fe-more-vertical text-2xl"})])]}))],2)])}),[],!1,null,null,null);e.default=component.exports},510:function(t,e,n){"use strict";n.r(e);n(532);var o=n(0),r=n.n(o),l=n(533),c={name:"BaseDateRangeFilter",components:{FlatPickr:n.n(l).a},props:{value:{type:Object,default:null},showCheckBox:{type:Boolean,default:!1},config:{type:Object,required:!1,default:function(){return{}}},extendDate:{type:Boolean,default:!0},label:{type:String,default:"Date Range"}},data:function(){return{form:{start_date:null,end_date:null},checkBox:!1}},computed:{endDateConfig:function(){return this.config.minDate=this.form.start_date,this.config}},watch:{value:{handler:function(t){null!==t.start_date&&(this.checkBox=!0,this.form.start_date=t.start_date),null==t.start_date&&null==t.end_date&&(this.checkBox=!1),this.form.start_date=t.start_date,this.form.end_date=t.end_date},immediate:!0,deep:!0},form:{handler:function(){this.$emit("input",{start_date:""==this.form.start_date?null:this.form.start_date,end_date:""==this.form.end_date?null:this.form.end_date})},deep:!0},checkBox:function(t){t?(this.form.start_date=null!==t.start_date?t.start_date:r()().format("YYYY-MM-DD"),this.form.end_date=r()().format("YYYY-MM-DD")):(this.form.start_date=null,this.form.end_date=null)}},methods:{clearDates:function(){this.checkBox=!1,this.form.start_date=null,this.form.end_date=null}}},d=n(6),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center",class:{"mt-4":t.showCheckBox}},[n("input",{directives:[{name:"show",rawName:"v-show",value:t.showCheckBox,expression:"showCheckBox"},{name:"model",rawName:"v-model",value:t.checkBox,expression:"checkBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox)?t._i(t.checkBox,null)>-1:t.checkBox},on:{change:function(e){var n=t.checkBox,o=e.target,r=!!o.checked;if(Array.isArray(n)){var l=t._i(n,null);o.checked?l<0&&(t.checkBox=n.concat([null])):l>-1&&(t.checkBox=n.slice(0,l).concat(n.slice(l+1)))}else t.checkBox=r}}}),t._v(" "),n("div",{staticClass:"rounded border-2 flex items-center px-1 h-10 bg-white ml-2"},[n("div",{staticClass:"ml-1 uppercase text-xs text-gray-500 font-bold mr-2"},[t._v("\n      "+t._s(t.label)+"\n    ")]),t._v(" "),n("FlatPickr",{staticClass:"w-24 ml-2",attrs:{config:t.extendDate?{}:t.config,placeholder:"Start date"},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}}),t._v(" "),n("div",{staticClass:"font-bold mr-2 text-gray-700"},[t._v("\n      -\n    ")]),t._v(" "),n("FlatPickr",{staticClass:"w-24",attrs:{config:t.extendDate?{minDate:t.form.start_date}:t.config,placeholder:"End date"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}}),t._v(" "),n("button",{staticClass:"ml-2",on:{click:t.clearDates}},[n("span",{staticClass:"fe fe-x text-gray-600 font-bold text-lg"})])],1)])}),[],!1,null,null,null);e.default=component.exports},615:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),l=n(509),c={name:"TrendMetric",components:{BaseDateRangeFilter:n(510).default,BaseDropDownMenu:l.default},props:{metric:{type:Object,required:!0}},data:function(){return{filterLabel:"Today",customDate:!1,dateRange:{start_date:null,end_date:null},query:{startDate:r()().subtract(7,"days").format("YYYY-MM-DD"),endDate:null},options:{legend:{display:!1},scales:{yAxes:[{display:!1}],xAxes:[{display:!1}]}}}},methods:{setCustomDate:function(){this.customDate=!0},setDaysAgo:function(t){var label=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Today";this.query.startDate=r()().subtract(t,"days").format("YYYY-MM-DD"),this.query.endDate=null,this.customDate=!1,this.filterLabel=label},getRandomInt:function(){return Math.floor(46*Math.random())+5},removeMetric:function(){var t=this;this.$swal.fire({text:"Are you sure you want to remove this metric?",buttons:!0,dangerMode:!0,preConfirm:function(){return t.$axios.$delete("dashboard/metric/".concat(t.metric.id,"/remove")).then((function(e){t.$toast.success("Metric removed!"),window.location.reload()})).catch((function(e){t.$toast.error(e.response.data.errors)}))}})}}},d=c,f=n(6),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shadow bg-white rounded-lg overflow-hidden group handle"},[n("div",{staticClass:"p-4 title flex items-center"},[n("div",{staticClass:"text-gray-600 text-base text-80 font-bold w-3/6"},[t._m(0),t._v(" "),n("span",[t._v(t._s(t.metric.title))])]),t._v(" "),t.customDate?n("BaseDateRangeFilter",{staticClass:"w-64 ml-auto mt-0 mr-20",attrs:{config:{}},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}):t._e(),t._v(" "),n("BaseDropDownMenu",{class:{"ml-auto":!t.customDate},attrs:{trigger:"click"},scopedSlots:t._u([{key:"menu-button",fn:function(){return[n("div",{staticClass:"text-blue border px-2 p-1 w-auto rounded-lg bg-gray-100 flex items-center"},[t.customDate?t._e():n("span",{staticClass:"mr-1 w-auto block"},[t._v(t._s(t.filterLabel))]),t._v(" "),n("span",{staticClass:"fe fe-chevron-down ml-auto"})])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"p-4"},[n("button",{staticClass:"hover:text-blue block py-1",on:{click:function(e){return t.setDaysAgo(0,"Today")}}},[t._v("\n          Today\n        ")]),t._v(" "),n("button",{staticClass:"hover:text-blue block py-1",on:{click:function(e){return t.setDaysAgo(7,"Last 7 days")}}},[t._v("\n          Last 7 days\n        ")]),t._v(" "),n("button",{staticClass:"hover:text-blue block py-1",on:{click:function(e){return t.setDaysAgo(28,"Last 28 days")}}},[t._v("\n          Last 28 days\n        ")]),t._v(" "),n("button",{staticClass:"hover:text-blue block py-1",on:{click:function(e){return t.setDaysAgo(90,"Last 90 days")}}},[t._v("\n          Last 90 days\n        ")]),t._v(" "),n("button",{staticClass:"hover:text-blue block py-1",on:{click:function(e){return t.setDaysAgo(180,"Last 180 days")}}},[t._v("\n          Last 180 days\n        ")]),t._v(" "),n("button",{staticClass:"hover:text-blue mt-2 text-left block py-1 border-t border-gray-500 w-full"},[t._v("\n          Custom Date\n        ")])])]),t._v(" "),n("div",{staticClass:"w-6 ml-2"},[n("button",{staticClass:"px-2 p-1 bg-gray-100 hover:bg-gray-200 hidden group-hover:block rounded-full",on:{click:t.removeMetric}},[n("span",{staticClass:"fe fe-x text-red-300"})])])],1),t._v(" "),n("div",{staticClass:"px-4 text-gray-700 text-4xl"},[t._v("\n    "+t._s(t.metric.value)+"\n  ")]),t._v(" "),n("div",{staticClass:"text-lg text-gray-600 font-semibold"},[n("LineChart",{attrs:{height:50,chartdata:t.metric.trendData?t.metric.trendData:null,options:t.options}})],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"handle cursor-move text-lg hidden"},[n("span",{staticClass:"fe fe-more-vertical -mr-4"}),t._v(" "),n("span",{staticClass:"fe fe-more-vertical"})])}],!1,null,null,null);e.default=component.exports}}]);