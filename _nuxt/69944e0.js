(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{537:function(e,t,o){"use strict";o.r(t);o(24),o(19),o(34),o(22),o(35);var r=o(4),l=o(12),n=(o(43),o(23),o(9),o(75),o(365),o(154)),m=o.n(n),c=o(14);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"AddGuest",data:function(){return{form:{fullname:"",Room:"",idType:"",idNum:"",aob:"",email:"",rdays:1},fee:"0",rtype:"null"}},computed:f(f({},Object(c.c)(["rooms","getToken"])),{},{formRoom:function(){return this.form.Room},roomlistFiltered:function(){return m.a.filter(this.rooms,(function(e){return 0==e.occupied}))}}),watch:{formRoom:function(e){this.fee=e.fee,this.rtype=e.type}},methods:f(f({},Object(c.b)(["toggleAddGuest","loadGuestsPaginated","loadguestsrooms"])),{},{newGuest:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={headers:{"X-CSRF-TOKEN":e.getToken}},r=e.form,t.prev=2,t.next=5,e.$swal.fire({title:"Adding New Guest?",text:"".concat(e.form.fullname," for Period of  ").concat(e.form.rdays," days in ").concat(e.form.Room.type," ").concat(e.form.Room.roomNo," .You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Add!",cancelButtonText:"No, cancel!",reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:function(t){e.$axios.$post("newGuest",r,o).then((function(t){var o=t.result,r=t.message;1==o&&(e.$toast.success(r),e.loadGuestsPaginated(),e.toggleAddGuest(),e.loadguestsrooms())})).catch((function(t){e.$swal.showValidationMessage("Request failed: ".concat(t)),t.response.data.message?e.$toast.error(e.$ObjTemplate.trim(t.response.data.message)):e.$toast.error(e.$ObjTemplate.trim(t.response.request.statusText))}))},allowOutsideClick:function(){return!e.$swal.isLoading()}}).then((function(t){t.isConfirmed?e.$swal.fire("Saved!","Guest is added.","success"):t.dismiss==e.$swal.DismissReason.cancel&&e.$swal.fire("Cancelled","Guest is not added! :)","error")}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()}})},w=o(6),component=Object(w.a)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-10 shadow-xl shadow-yellow-300 w-6/12 sm:w-1/2 rounded-xl h-auto"},[e._m(0),e._v(" "),o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.newGuest.apply(null,arguments)}}},[o("div",{staticClass:" flex flex-row"},[o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"FullName"}},[e._v("FullName")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fullname,expression:"form.fullname"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{id:"FullName",type:"text",required:""},domProps:{value:e.form.fullname},on:{input:function(t){t.target.composing||e.$set(e.form,"fullname",t.target.value)}}})]),e._v(" "),o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"Email"}},[e._v("Email")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{id:"Email",type:"email",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:" flex flex-row"},[o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"IDType"}},[e._v("ID Type")]),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.form.idType,expression:"form.idType"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{id:"IDType",name:"",required:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"idType",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"National ID"}},[e._v("\n              National ID\n            ")]),e._v(" "),o("option",{attrs:{value:"PassPort"}},[e._v("\n              PassPort\n            ")]),e._v(" "),o("option",{attrs:{value:"Drivers Permit"}},[e._v("\n              Drivers Permit\n            ")])])]),e._v(" "),o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"IDNumber"}},[e._v("NIN/PassPort/Drivers Permit Number")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.idNum,expression:"form.idNum"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{id:"IDNumber",type:"text",required:""},domProps:{value:e.form.idNum},on:{input:function(t){t.target.composing||e.$set(e.form,"idNum",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"p-2 flex flex-row"},[o("div",{staticClass:"p-2 mb-3 text-sm w-full"},[o("label",{staticClass:"font-bold text-yellow-800",attrs:{for:"AOB"}},[e._v("Any Other Information")]),e._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.aob,expression:"form.aob"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{id:"AOB",type:"text",required:""},domProps:{value:e.form.aob},on:{input:function(t){t.target.composing||e.$set(e.form,"aob",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"p-2 flex flex-row"},[o("div",{staticClass:"p-2 mb-3 text-sm w-1/2"},[o("label",{staticClass:"text-sm text-yellow-800 font-bold",attrs:{for:"rooms"}},[e._v("Select Room")]),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.form.Room,expression:"form.Room"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{id:"rooms",name:"",required:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"Room",t.target.multiple?o:o[0])}}},e._l(e.roomlistFiltered,(function(t,i){return o("option",{key:i,domProps:{value:t}},[e._v("\n              "+e._s(t.roomNo)+" "+e._s(t.type)+" "+e._s(t.beds)+" Beds\n            ")])})),0)]),e._v(" "),o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"fee"}},[e._v("Type")]),e._v(" "),o("div",{staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300"},[e._v("\n            "+e._s(e.rtype)+"\n          ")])])]),e._v(" "),o("div",{staticClass:"p-2 flex flex-row"},[o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"fee"}},[e._v("Fee/Day")]),e._v(" "),o("div",{staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300"},[e._v("\n            "+e._s(e.fee)+"\n          ")])]),e._v(" "),o("div",{staticClass:"p-2 text-sm w-1/2"},[o("label",{staticClass:"font-bold text-yellow-800 text-sm",attrs:{for:"fee"}},[e._v("Days")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rdays,expression:"form.rdays"}],staticClass:"py-3 pr-3 w-full border-b-2 border-gray-200 focus:outline-none hover:border-yellow-300",attrs:{type:"Number",min:"1",max:"365",required:""},domProps:{value:e.form.rdays},on:{input:function(t){t.target.composing||e.$set(e.form,"rdays",t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"text-sm p-2"}),e._v(" "),o("div",{staticClass:"my-3"},[o("button",{staticClass:"p-3 bg-green-500 text-white rounded-lg px-32",attrs:{type:"submit"}},[e._v("\n          Submit\n        ")]),e._v(" "),o("button",{staticClass:"p-3 bg-red-500 text-white rounded-lg px-32",on:{click:function(t){return t.preventDefault(),e.toggleAddGuest.apply(null,arguments)}}},[e._v("\n          Cancel\n        ")])])])])])}),[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"m-2"},[o("h1",{staticClass:"font-black text-yellow-800"},[e._v("\n      New Guest\n    ")])])}],!1,null,"2d55c02a",null);t.default=component.exports}}]);