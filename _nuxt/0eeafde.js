(window.webpackJsonp=window.webpackJsonp||[]).push([[115,39,43,47,48,49,62,68,71,79],{468:function(e,t,r){"use strict";r.r(t);var n=r(6),component=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:" rounded-full",staticStyle:{margin:"auto",background:"#fff",display:"block"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"30px",height:"30px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[r("circle",{attrs:{cx:"75",cy:"50",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.9166666666666666s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.9166666666666666s"}})]),r("circle",{attrs:{cx:"71.65063509461098",cy:"62.5",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.8333333333333334s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.8333333333333334s"}})]),r("circle",{attrs:{cx:"62.5",cy:"71.65063509461096",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.75s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.75s"}})]),r("circle",{attrs:{cx:"50",cy:"75",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.6666666666666666s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.6666666666666666s"}})]),r("circle",{attrs:{cx:"37.50000000000001",cy:"71.65063509461098",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.5833333333333334s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.5833333333333334s"}})]),r("circle",{attrs:{cx:"28.34936490538903",cy:"62.5",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.5s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.5s"}})]),r("circle",{attrs:{cx:"25",cy:"50",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.4166666666666667s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.4166666666666667s"}})]),r("circle",{attrs:{cx:"28.34936490538903",cy:"37.50000000000001",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.3333333333333333s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.3333333333333333s"}})]),r("circle",{attrs:{cx:"37.499999999999986",cy:"28.349364905389038",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.25s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.25s"}})]),r("circle",{attrs:{cx:"49.99999999999999",cy:"25",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.16666666666666666s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.16666666666666666s"}})]),r("circle",{attrs:{cx:"62.5",cy:"28.349364905389034",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.08333333333333333s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"-0.08333333333333333s"}})]),r("circle",{attrs:{cx:"71.65063509461096",cy:"37.499999999999986",fill:"#dcfff8",r:"5"}},[r("animate",{attrs:{attributeName:"r",values:"3;3;5;3;3",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"0s"}}),e._v(" "),r("animate",{attrs:{attributeName:"fill",values:"#dcfff8;#dcfff8;#00e2ff;#dcfff8;#dcfff8",repeatCount:"indefinite",times:"0;0.1;0.2;0.3;1",dur:"1s",begin:"0s"}})])])}),[],!1,null,null,null);t.default=component.exports},482:function(e,t,r){"use strict";var n=r(16),o=r(3),c=r(5),l=r(119),d=r(29),f=r(21),v=r(367),m=r(59),h=r(118),x=r(366),_=r(7),C=r(90).f,w=r(46).f,y=r(27).f,I=r(369),T=r(368).trim,k="Number",S=o.Number,O=S.prototype,R=o.TypeError,$=c("".slice),N=c("".charCodeAt),j=function(e){var t=x(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,r,n,o,c,l,d,code,f=x(e,"number");if(h(f))throw R("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=T(f),43===(t=N(f,0))||45===t){if(88===(r=N(f,2))||120===r)return NaN}else if(48===t){switch(N(f,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+f}for(l=(c=$(f,2)).length,d=0;d<l;d++)if((code=N(c,d))<48||code>o)return NaN;return parseInt(c,n)}return+f};if(l(k,!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var A,D=function(e){var t=arguments.length<1?0:S(j(e)),r=this;return m(O,r)&&_((function(){I(r)}))?v(Object(t),r,D):t},P=n?C(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),W=0;P.length>W;W++)f(S,A=P[W])&&!f(D,A)&&y(D,A,w(S,A));D.prototype=O,O.constructor=D,d(o,k,D)}},485:function(e,t,r){e.exports={}},486:function(e,t,r){"use strict";r.r(t);var n={props:["orderTR","loading","usersection"],methods:{getStatus:function(e){switch(e){case 5:return"pending";case 10:return"new";case 15:return"served";case 20:return"cancelling";case 25:return"cancelled"}},getClass:function(e){switch(e){case 5:return"bg-gray-500";case 10:return"bg-yellow-500";case 15:return"bg-green-500";case 20:return"bg-red-300";case 25:return"bg-red-500"}}}},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"hover:bg-grey-lighter",class:25==parseInt(e.orderTR.status)?"line-through":""},[r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[e._v("\n    "+e._s(e.orderTR.dish)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[e._v("\n    "+e._s(e.orderTR.Description)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[e._v("\n    "+e._s(e.orderTR.qty)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-left"},[e._v("\n    "+e._s(e.orderTR.cost)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2 text-xs  px-1 border-b border-grey-light text-left"},[e._v("\n    "+e._s(e.orderTR.SentFrom)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-2 border-b border-grey-light text-left"},[e._v("\n    "+e._s(e.orderTR.reason)+"\n  ")]),e._v(" "),r("td",{staticClass:"py-2  px-2 border-b border-grey-light text-center"},[r("div",{staticClass:" flex flex-col"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.orderTR.destRmn,expression:"orderTR.destRmn"}]},[e._v(e._s(e.orderTR.destRmn))]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.orderTR.destTbl,expression:" orderTR.destTbl"}]},[e._v(e._s(e.orderTR.destTbl))])])]),e._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light text-center uppercase font-extrabold text-white"},[r("span",{staticClass:" px-4 rounded-lg py-1",class:e.getClass(parseInt(e.orderTR.status))},[e._v(" "+e._s(e.getStatus(parseInt(e.orderTR.status)))+" ")])]),e._v(" "),r("td",{staticClass:"py-2  px-1 border-b border-grey-light"},[5!=parseInt(e.orderTR.status)?r("div",{staticClass:" flex flex-col"},[10==parseInt(e.orderTR.status)?r("button",{staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-red-500  bg-red-400 uppercase",on:{click:function(t){return e.$emit("cancel",e.orderTR.orders_id)}}},[e._v("\n        cancel\n      ")]):e._e()]):e._e()])])}),[],!1,null,"53f64b6c",null);t.default=component.exports},488:function(e,t,r){"use strict";r.r(t);var n={components:{InvoiceOrderTableRow:r(486).default},props:["ordersTR","loading","usersection"],methods:{cancel:function(e){this.$emit("cancel",e)}}},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mx-auto"},[r("div",{staticClass:"bg-white shadow-md rounded"},[r("table",{staticClass:"text-left w-full border-collapse"},[e._m(0),e._v(" "),r("tbody",e._l(e.ordersTR,(function(t,n){return r("InvoiceOrderTableRow",{key:n,staticClass:" my-1",attrs:{"order-t-r":t,loading:e.loading,usersection:e.usersection},on:{cancel:e.cancel}})})),1)])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            Item\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            Description\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            qty\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            cost\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-medium  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            From\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            reason\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-left text-black"},[e._v("\n            Dest'n\n          ")]),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-center text-black"}),e._v(" "),r("th",{staticClass:"py-1  px-1 bg-grey-lightest font-black  uppercase text-xs  border-b border-grey-light text-center text-black"},[e._v("\n            controls\n          ")])])])}],!1,null,null,null);t.default=component.exports},493:function(e,t,r){"use strict";r.r(t);r(24),r(9),r(22);var n={components:{InvoiceOrder:r(488).default},props:["invoice","loading","usersection"],methods:{getorderStatus:function(e){switch(e){case 5:return{styeBorder:"border-yellow-200",styeBg:"bg-yellow-200",text:"Unpaid"};case 10:return{styeBorder:"border-green-900",styeBg:"bg-green-900",text:"Paid"};default:return{styeBorder:"border-gray-400",styeBg:"bg-gray-00",text:"Unknown"}}},cancel:function(e){this.$emit("cancel",e)},ConfirmInvoice:function(e){try{Object.keys(e.orders).length>0&&(e.orders.forEach((function(element){if(15!==parseInt(element.status)&&25!==parseInt(element.status))throw{message:"The Invoice has Uncleared Orders!"}})),this.$emit("ConfirmInvoice",e))}catch(e){this.$toast.error(e.message)}},Print:function(e){this.$emit("Print",e)},Close:function(e){try{Object.keys(e.orders).length>0&&(e.orders.forEach((function(element){if(15!==parseInt(element.status)&&25!==parseInt(element.status))throw{message:"The Invoice has Uncleared Orders!"}})),this.$emit("CloseInvoice",e))}catch(e){this.$toast.error(e.message)}}}},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" mx-auto bg-gray-50 p-2"},[r("div",[r("div",{staticClass:"bg-gray-100 mx-auto border-gray-500 shadow-lg rounded-sm text-gray-700 h-auto"},[r("div",{staticClass:"flex p-3 border-l-8",class:e.getorderStatus(parseInt(e.invoice.status)).styeBorder},[r("div",{staticClass:"space-y-1 border-r-2 pr-3"},[r("div",{staticClass:"text-sm leading-5 font-semibold"},[r("span",{staticClass:"text-xs leading-4 font-normal text-gray-500"},[e._v(" Invoice #")]),e._v(" "),r("span",{staticClass:" font-extrabold"},[e._v(" "+e._s(e.invoice.receipts_id)+" ")])]),e._v(" "),r("div",{staticClass:"text-sm leading-5 font-semibold"},[r("span",{staticClass:"text-xs leading-4 font-normal text-gray-500 pr"},[e._v(" Total:")]),e._v(" "),r("span",{staticClass:" font-extrabold"},[e._v(" Shs: "+e._s(e._f("number_format")(e.invoice.TTotal))+"/= ")])]),e._v(" "),r("div",{staticClass:"text-sm leading-5 font-semibold text-green-500"},[e._v("\n            "+e._s(e.invoice.section)+"\n          ")]),e._v(" "),r("div",{staticClass:"text-xm leading-5 font-semiboldtext-red-700"},[e._v("\n            "+e._s(e.invoice.name)+"\n          ")]),e._v(" "),r("div",{staticClass:"text-xs leading-5 font-semibold text-gray-500"},[e._v("\n            "+e._s(e._f("humanDayDate")(e.invoice.created_at))+"\n          ")])]),e._v(" "),r("div",{staticClass:" flex flex-col justify-center align-middle ml-2"},[r("button",{directives:[{name:"show",rawName:"v-show",value:5==e.invoice.status,expression:"invoice.status == 5"}],staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-green-700  bg-green-400 uppercase",on:{click:function(t){return e.ConfirmInvoice(e.invoice)}}},[e._v("\n            Confirm Invoice\n          ")]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:10==e.invoice.status,expression:"invoice.status == 10"}],staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-blue-700  bg-blue-400 uppercase",on:{click:function(t){return e.Print(e.invoice)}}},[e._v("\n            Print\n          ")]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:10==e.invoice.status,expression:"invoice.status == 10"}],staticClass:" text-white text-center font-bold py-1 my-1 px-3 rounded text-xs hover:bg-red-700  bg-red-400 uppercase",on:{click:function(t){return e.Close(e.invoice)}}},[e._v("\n            Close\n          ")])]),e._v(" "),r("div",{staticClass:"flex-1"},[r("div",{staticClass:"ml-3 space-y-1 border-r-2 pr-3"},[r("div",{staticClass:"text-sm leading-4 font-normal"},[r("InvoiceOrder",{attrs:{"orders-t-r":e.invoice.orders,loading:e.loading,usersection:e.usersection},on:{cancel:e.cancel}})],1)])])])])])])}),[],!1,null,null,null);t.default=component.exports},498:function(e,t,r){"use strict";r(485)},500:function(e,t,r){"use strict";r.r(t);var n={name:"InvoiceCommon",components:{Invoice:r(493).default},props:["invoices","user"],data:function(){return{loadinghandleInvoice:!1,invoicePaginated:[],currentUrl:null}},methods:{cancel:function(e){this.$emit("cancel",e)},ConfirmInvoice:function(e){this.$emit("ConfirmInvoice",e)},CloseInvoice:function(e){this.$emit("CloseInvoice",e)},Print:function(e){this.$emit("Print",e)}}},o=r(6),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:" w-full p-2 h-full"},[r("div",{staticClass:" w-full p-2  shadow-2xl rounded mt-5"},e._l(e.invoices,(function(t,n){return r("Invoice",{key:n,attrs:{invoice:t,loading:e.loadinghandleInvoice,usersection:e.user.section},on:{cancel:e.cancel,ConfirmInvoice:e.ConfirmInvoice,CloseInvoice:e.CloseInvoice,Print:e.Print}})})),1)])])}),[],!1,null,null,null);t.default=component.exports},501:function(e,t,r){"use strict";r.r(t);var n=r(497),o={components:{VueBarcode:r.n(n).a},props:["invoice"],data:function(){return{success:!0,fail:!1}},methods:{getRandomIntInclusive:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)},print:function(){window.document.body.innerHTML=document.getElementById("printable").innerHTML,window.print(),this.$router.go({path:this.$router.currentRoute.path,force:!0})}}},c=(r(498),r(6)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-overlay"},[r("div",{staticClass:"modal w-80"},[r("div",{staticClass:" flex flex-row",attrs:{id:"printable"}},[r("div",{staticClass:" w-full flex flex-col"},[r("h1",{staticClass:" text-center uppercase font-bold text-xl"},[e._v("\n          meals and drinks\n        ")]),e._v(" "),r("div",{staticClass:" w-full grid grid-cols-2 gap-0 px-2 mt-5"},[r("div",{staticClass:" text-left flex flex-col"},[r("span",{staticClass:" text-sm"},[e._v("Order No: "+e._s(e.invoice.receipts_id))]),e._v(" "),r("span",{staticClass:" text-sm"},[e._v("C/o: "+e._s(e.invoice.name))])]),e._v(" "),r("div",{staticClass:" text-right"},[r("span",{staticClass:" text-sm whitespace-nowrap"},[e._v("Date: "),r("span",{staticClass:" text-xs"},[e._v(e._s(e._f("humanDayDate")(e.invoice.updated_at)))])]),e._v(" "),r("span",{staticClass:" text-sm"})])]),e._v(" "),r("div",{staticClass:" w-full mt-5 px-2"},[r("table",{staticClass:" w-full"},[e._m(0),e._v(" "),r("tbody",[e._l(e.invoice.orders,(function(t,n){return r("tr",{key:n,class:25==parseInt(t.status)?"line-through":""},[r("td",{staticClass:" text-left text-xs"},[e._v("\n                  "+e._s(t.qty)+"\n                ")]),e._v(" "),r("td",{staticClass:" text-left text-xs"},[e._v("\n                  ("+e._s(t.Category)+") "+e._s(t.dish)+"\n                ")]),e._v(" "),r("td",{staticClass:" text-left text-xs"},[r("div",{staticClass:" flex flex-col"},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.destRmn,expression:"order.destRmn"}]},[e._v(e._s(t.destRmn))]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.destTbl,expression:" order.destTbl"}]},[e._v(e._s(t.destTbl))])])]),e._v(" "),r("td",{staticClass:" text-left text-xs"},[e._v("\n                  "+e._s(t.cost)+"\n                ")])])})),e._v(" "),r("tr",{staticClass:" border-t-2 border-dotted"},[r("td",{staticClass:" text-left text-sm font-bold"},[e._v("\n                  Total\n                ")]),e._v(" "),r("td",{staticClass:" text-right text-sm font-bold whitespace-nowrap",attrs:{colspan:"3"}},[e._v("\n                  Shs: "+e._s(e._f("number_format")(e.invoice.TTotal))+"\n                ")])])],2)])]),e._v(" "),r("div",{staticClass:" w-full mt-5 px-2 flex align-middle justify-center"},[r("VueBarcode",{staticClass:" w-28",attrs:{value:e.getRandomIntInclusive(1e11,999999999999),format:"CODE128",height:25,width:1,"font-size":10,"font-options":"bold italic"}})],1),e._v(" "),e._m(1)])]),e._v(" "),r("button",{staticClass:" hover:bg-green-500 bg-gray-300 uppercase",on:{click:function(t){return e.print()}}},[e._v("\n      Print\n    ")])]),e._v(" "),r("div",{staticClass:"close",on:{click:function(t){return e.$emit("update:showmodal",!1)}}},[r("svg",{staticClass:"h-6 w-6 close-img text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",{staticClass:" border-t-2 border-b-2 border-dotted"},[r("tr",[r("th",{staticClass:" text-left text-sm font-bold"},[e._v("\n                  Qty\n                ")]),e._v(" "),r("th",{staticClass:" text-left text-sm font-bold"},[e._v("\n                  Item\n                ")]),e._v(" "),r("th",{staticClass:" text-left text-sm font-bold"},[e._v("\n                  Dest'n\n                ")]),e._v(" "),r("th",{staticClass:" text-left text-sm font-bold"},[e._v("\n                  Price\n                ")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" w-full"},[r("span",{staticClass:" text-center capitalize"},[e._v("thank you!")])])}],!1,null,"dad5c15c",null);t.default=component.exports},505:function(e,t,r){e.exports={}},512:function(e,t,r){"use strict";r.r(t);var n={props:{head:{type:String,required:!1,default:"Header"},message:{type:String,required:!1,default:"message"},modalRoutine:{type:String,required:!1,default:""},ok:{type:String,required:!1,default:"OK"},cancel:{type:String,required:!1,default:"cancel"},placeholder:{type:String,required:!1,default:"Reason For Cancelling"}},data:function(){return{success:!0,fail:!1,feedmessage:null}}},o=(r(526),r(6)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-overlay"},[r("div",{staticClass:"modal"},[r("div",{staticClass:" flex flex-row"},[r("svg",{staticClass:"h-16 w-16",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z","clip-rule":"evenodd"}})]),e._v(" "),r("h6",{staticClass:" text-center w-full"},[e._v("\n        "+e._s(e.head)+"\n      ")])]),e._v(" "),r("div",[r("p",[e._v(e._s(e.message))])]),e._v(" "),r("div",[r("div",{staticClass:" border flex flex-wrap w-full mb-4 relative h-15 bg-white items-center rounded pr-10"},[r("div",{staticClass:"flex -mr-px justify-center w-15"},[r("span",{staticClass:"flex items-center leading-normal bg-white px-3 border-0 rounded rounded-r-none text-2xl text-gray-600"},[r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm7 1h4a1 1 0 001-1v-1h-5v2zm0-4h5V8h-5v2zM9 8H4v2h5V8z","clip-rule":"evenodd"}})])])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.feedmessage,expression:"feedmessage"}],staticClass:"flex-shrink flex-grow flex-auto leading-normal w-px border-0 h-8 border-grey-light rounded rounded-l-none px-3 self-center relative  font-roboto text-sm outline-none",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.feedmessage},on:{input:function(t){t.target.composing||(e.feedmessage=t.target.value)}}})])]),e._v(" "),r("button",{staticClass:" hover:bg-green-500 bg-green-300 uppercase",on:{click:function(t){return e.$emit("click-modal",e.fail,e.modalRoutine)}}},[e._v("\n      "+e._s(e.cancel)+"\n    ")]),e._v(" "),r("button",{staticClass:" hover:bg-red-500 bg-red-300 uppercase",on:{click:function(t){e.$emit("click-modal",e.success,e.modalRoutine,e.feedmessage),e.feedmessage=null}}},[e._v("\n      "+e._s(e.ok)+"\n    ")])]),e._v(" "),r("div",{staticClass:"close",on:{click:function(t){e.$emit("update:showmodal",!1),e.feedmessage=null}}},[r("svg",{staticClass:"h-6 w-6 close-img text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])])])}),[],!1,null,"53b90504",null);t.default=component.exports},526:function(e,t,r){"use strict";r(505)},589:function(e,t,r){e.exports={}},627:function(e,t,r){"use strict";r.r(t);r(482),r(24),r(23),r(9),r(26);var n=r(154),o=r.n(n),c={components:{DialogPassKey:r(512).default},props:{user:{type:[Array,Object],required:!0},activeUID:{type:Number,required:!1,default:0},invoicesUsers:{type:[Array,Object],required:!1,default:function(){return[{}]}},show:{type:Boolean,required:!1,default:!0}},data:function(){return{active:!1,showModal:!1}},computed:{getactive:function(){return this.activeUID==this.user.id},getserviceWaiterWaitressArrCount:function(){var e=this.user.id;return Object.keys(o.a.filter(this.invoicesUsers,(function(t){return t.uID==e}))).length}},methods:{setactive:function(){this.showModal=!0},clickmodal:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.showModal=!1,1==e&&"QAC"===t){if(null==r)return void this.$toast.error("Provide Quick Access Code for "+this.user.name);this.user.qac==r?this.$emit("active",this.user):this.$toast.error("Wrong Quick Access Code for "+this.user.name)}}}},l=c,d=r(6),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.user?r("div",{staticClass:" border rounded-md shadow-xl flex flex-row md:flex-col items-start justify-start m-2 pt-2 pr-8 hover:bg-gray-300",class:e.getactive?"bg-gray-400":"",on:{click:e.setactive}},[r("img",{staticClass:"h-14 w-14 m-2 rounded-sm",attrs:{src:e.user.image,alt:"user photo"}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:" flex flex-col  m-3"},[r("span",{staticClass:"text-green-600 text-sm font-bold uppercase"},[e._v(e._s(e.user.name))]),e._v(" "),r("span",{staticClass:" text-sm font-bold capitalize"},[e._v(e._s(e.user.email))])]),e._v(" "),r("div",{staticClass:" w-full"},[r("div",{staticClass:"flex justify-end mr-8"},[r("span",{directives:[{name:"show",rawName:"v-show",value:parseInt(e.getserviceWaiterWaitressArrCount)>0,expression:" parseInt(getserviceWaiterWaitressArrCount) > 0"}],staticClass:" bg-red-500 text-center text-xs py-2 px-3 rounded-full"},[e._v("\n          "+e._s(e.getserviceWaiterWaitressArrCount)+"\n        ")])])])]):e._e(),e._v(" "),r("DialogPassKey",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],attrs:{showmodal:e.showModal,head:e.user.name,message:"Provide Quick Access Code for this Account","modal-routine":"QAC",ok:"ENTER",placeholder:"*****"},on:{"update:showmodal":function(t){e.showModal=t},"click-modal":e.clickmodal}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{DialogPassKey:r(512).default})},695:function(e,t,r){"use strict";r(589)},742:function(e,t,r){"use strict";r.r(t);r(19),r(34),r(35);var n=r(4),o=r(12),c=(r(43),r(26),r(9),r(22),r(23),r(58),r(24),r(365),r(154)),l=r.n(c),d=r(14),f=r(529),v=r(627),m=r(500),h=r(501);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var C={components:{Menu:f.default,UserTile:v.default,Invoices:m.default,InvoicePrint:h.default},layout:"servicewaiterwairess",data:function(){return{AllowCloseInv:!1,show:!1,timerSet:0,TimerSetRoutine:12e5,user:{section:null,id:0,name:null},users:[],activeUID:0,serviceWaiterWaitressArr:[],serviceWaiterWaitressArrSorted:[],receiptSuper:{uID:null,name:"",section:"",status:5,TTotal:0,created_at:Date.now(),orders:[]},intervalTime:3e4,showModal:!1,invoiceDataPrint:[]}},computed:_(_({},Object(d.c)(["getToken","getTimer","getTimerInterval","getReceipts"])),{},{getUseruID:function(){return this.user.id},getUserName:function(){return this.user.name},getuserSection:function(){return this.user.section},watchReceiptSuperOrders:function(){return this.receiptSuper.orders},getinvoiceDataPrint:function(){return this.invoiceDataPrint}}),watch:{getUseruID:{handler:function(e){this.receiptSuper.uID=e}},getUserName:{handler:function(e){this.receiptSuper.name=e}},getuserSection:{handler:function(e){this.receiptSuper.section=e}},watchReceiptSuperOrders:{handler:function(e){var t=0;e.forEach((function(e){t+=parseInt(e.cost,10)})),this.receiptSuper.TTotal=t}},activeUID:{handler:function(e,t){this.setserviceWaiterWaitressArrSorted()}},serviceWaiterWaitressArr:{handler:function(e,t){this.setserviceWaiterWaitressArrSorted()}},getReceipts:{handler:function(e){this.serviceWaiterWaitressArr=l.a.filter(e,(function(e){return"SERVICE-WAITER-WAITRESS"==e.section&&15!=e.status}))}}},mounted:function(){this.fetchAllMenu(),this.resetInvoicefn(),this.getUsers(),this.loadInvoices(),clearInterval(this.getTimer),this.setTimerInterval()},methods:_(_(_({},Object(d.b)(["loadInvoices","fetchAllMenu"])),Object(d.d)(["setTimer"])),{},{setTimerInterval:function(){this.setTimer(setInterval(this.refreshData,this.getTimerInterval))},refreshData:function(){this.loadInvoices()},mouseMove:function(e){},setserviceWaiterWaitressArrSorted:function(){var e=this.activeUID;Object.keys(this.serviceWaiterWaitressArr).length>0&&e>0?this.serviceWaiterWaitressArrSorted=l.a.filter(this.serviceWaiterWaitressArr,(function(t){return t.uID==e})):this.serviceWaiterWaitressArrSorted=[]},increaseTimerSet:function(){this.timerSet=this.timerSet+1,setTimeout(this.clearTimer,this.TimerSetRoutine)},active:function(e){this.increaseTimerSet(),this.user.id=e.id,this.user.section=e.section,this.user.name=e.name,this.activeUID=e.id},clearTimer:function(){this.timerSet>1?this.timerSet=this.timerSet-1:this.clear()},clear:function(){this.resetInvoicefn()},addToInvoice:function(e){e.Names&&e.SentFrom&&e.uID?this.receiptSuper.orders.push(e):this.$toast.error("Please Select User from the Left Pane!")},resetInvoicefn:function(){this.timerSet=0,this.receiptSuper.TTotal=0,this.receiptSuper.created_at=Date.now(),this.receiptSuper.orders=[],this.serviceWaiterWaitressArrSorted=[],this.user.id=0,this.user.section=null,this.user.name=null,this.activeUID=0},cancelServiceBar:function(e){this.changeorderState(e,20)},ConfirmInvoice:function(e){try{if(!(Object.keys(e.orders).length>0))throw{message:"The Invoice has no Orders!"};this.updateInvoice(e.receipts_id,"CONFIRM")}catch(e){this.$toast.error(e.message)}},CloseInvoice:function(e){this.$toast.error("Only SERVICE-BAR is Allowed to Close an Invoice")},Print:function(e){this.invoiceDataPrint=e,this.showModal=!0},saveInvoicefn:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"X-CSRF-TOKEN":e.getToken}},t.prev=1,t.next=4,e.$axios.$post("addReceipts",e.receiptSuper,r).then((function(t){t.result&&(e.$toast.success("Receipt Published"),e.resetInvoicefn(),e.loadInvoices())})).catch((function(t){t.response.data.message?e.$toast.error(e.$ObjTemplate.trim(t.response.data.message)):e.$toast.error(e.$ObjTemplate.trim(t.response.request.statusText))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.$toast.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},getUsers:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"X-CSRF-TOKEN":e.getToken}},n={key:""},t.prev=2,t.next=5,e.$axios.$post("AllUsers",n,r).then((function(t){null!==t.users&&(e.users=l.a.filter(t.users,(function(e){return"SERVICE-WAITER-WAITRESS"==e.section})))})).catch((function(t){t.response.data.message?e.$toast.error(e.$ObjTemplate.trim(t.response.data.message)):e.$toast.error(e.$ObjTemplate.trim(t.response.request.statusText))}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.$toast.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))()},changeorderState:function(){var e=arguments,t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:0,o=e.length>1&&void 0!==e[1]?e[1]:null,c={headers:{"X-CSRF-TOKEN":t.getToken}},l={id:n,state:o},r.prev=4,r.next=7,t.$axios.$post("requestCancelOrder",l,c).then((function(e){var r=e.result,n=e.message;r&&n&&(t.loadInvoices(),t.$toast.success(n))})).catch((function(e){e.response.data.message?t.$toast.error(t.$ObjTemplate.trim(e.response.data.message)):t.$toast.error(t.$ObjTemplate.trim(e.response.request.statusText))}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(4),t.$toast.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[4,9]])})))()},updateInvoice:function(){var e=arguments,t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:0,o=e.length>1&&void 0!==e[1]?e[1]:null,c={headers:{"X-CSRF-TOKEN":t.getToken}},l={id:n,mode:o},r.prev=4,r.next=7,t.$axios.$post("updateReceipts",l,c).then((function(e){var r=e.result,n=e.message;r&&n&&(t.$toast.success(n),t.loadInvoices())})).catch((function(e){e.response.data.message?t.$toast.error(t.$ObjTemplate.trim(e.response.data.message)):t.$toast.error(t.$ObjTemplate.trim(e.response.request.statusText))}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(4),t.$toast.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[4,9]])})))()}})},w=C,y=(r(695),r(6)),component=Object(y.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" min-w-min main",on:{mousemove:e.mouseMove}},[r("div",{staticClass:"flex flex-row"},[r("div",{staticClass:"shadow-2xl",on:{mouseenter:function(t){e.show=!0},mouseleave:function(t){e.show=!1}}},[r("div",{staticClass:"scroll max-h-screen "},[r("div",{staticClass:"p-5"},e._l(e.users,(function(t,n){return r("UserTile",{key:n,attrs:{user:t,show:e.show,"active-u-i-d":e.activeUID,"invoices-users":e.serviceWaiterWaitressArr},on:{active:e.active,clear:e.clear}})})),1)])]),e._v(" "),r("div",{staticClass:" w-full h-auto min-h-screen"},[r("Menu",{attrs:{receipt:e.receiptSuper,user:e.user},on:{increaseTimerSet:e.increaseTimerSet,addToInvoice:e.addToInvoice,saveInvoicefn:e.saveInvoicefn,clear:e.clear}}),e._v(" "),r("div",{staticClass:" w-full py-4 pl-5"},[r("div",{staticClass:" flex flex-row"},[e._m(0),e._v(" "),r("span",{staticClass:" uppercase text-red-600 text-lg"},[e._v(" "+e._s(e.user.name)+" ")])])]),e._v(" "),r("Invoices",{attrs:{user:e.user,invoices:e.serviceWaiterWaitressArrSorted},on:{cancel:e.cancelServiceBar,ConfirmInvoice:e.ConfirmInvoice,CloseInvoice:e.CloseInvoice,Print:e.Print}})],1)]),e._v(" "),r("InvoicePrint",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],attrs:{showmodal:e.showModal,invoice:e.getinvoiceDataPrint},on:{"update:showmodal":function(t){e.showModal=t}}})],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-min whitespace-nowrap border-black border-r-2 mr-2"},[r("span",{staticClass:" uppercase text-gray-500 font-black text-lg mr-2"},[e._v("selected account")])])}],!1,null,"4b46e0bf",null);t.default=component.exports}}]);